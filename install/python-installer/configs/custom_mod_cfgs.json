{
    "//comments": "customized-config",
    "MOD_CFGS": {
        "hbase-site": {
            "hbase.rpc.timeout": "30000",
            "hbase.snapshot.master.timeout.millis": "600000"
        },
        "hbase-master-site": {
            "hbase.master.handler.count": "100",
            "hbase.snapshot.master.timeoutMillis": "600000"
        },
        "hbase-regionserver-site": {
            "hbase.bucketcache.size": "15360",
            "hbase.hregion.majorcompaction": "0",
            "hbase.ipc.server.read.threadpool.size": "50",
            "hbase.regionserver.handler.count": "300",
            "hbase.regionserver.maxlogs": "150",
            "hbase.regionserver.metahandler.count": "100",
            "hbase.snapshot.region.timeout": "3600000",
            "hbase.bucketcache.ioengine": "offheap",
            "hbase.ipc.server.callqueue.handler.factor": "0.1",
            "hbase.ipc.server.callqueue.read.ratio": "0.5",
            "hbase.ipc.server.callqueue.scan.ratio": "0.5",
            "hbase.regionserver.global.memstore.lowerLimit": "0.95",
            "hbase.regionserver.global.memstore.size.lower.limit": "0.95",
            "hbase.transaction.lease.timeout": "72000000",
            "hfile.block.cache.size": "0.2",
            "hbase.hregion.max.filesize": "107374182400",
            "hbase.client.scanner.timeout.period": "3600000",
            "hbase.regionserver.global.memstore.size": "0.6",
            "hbase.rs.cost.warn.threshold": "30",
            "hbase.ipc.warn.response.time": "30",
            "hbase.ipc.server.listen.queue.size": "200"
        },
        "hbase-env": {
            "HBASE_MASTER_HEAPSIZE": "16g",
            "HBASE_REGIONSERVER_HEAPSIZE": "50g",
            "HBASE_REGIONSERVER_OPTS": "-XX:+UseG1GC -XX:MaxGCPauseMillis=70 -XX:+ParallelRefProcEnabled -XX:-ResizePLAB -XX:ParallelGCThreads=38 -XX:+UnlockExperimentalVMOptions -XX:G1NewSizePercent=2 -XX:G1MaxNewSizePercent=40 -XX:MaxTenuringThreshold=5 -XX:InitiatingHeapOccupancyPercent=65 -verbose:gc -Xloggc:/var/log/hbase/gc -XX:+PrintGC -XX:+PrintGCDetails -XX:+PrintGCDateStamps -XX:+UseGCLogFileRotation -XX:NumberOfGCLogFiles=10 -XX:GCLogFileSize=128M -XX:PrintFLSStatistics=2 -XX:+PrintHeapAtGC -XX:+PrintTenuringDistribution -XX:+PrintGCApplicationStoppedTime -XX:+PrintAdaptiveSizePolicy -XX:+UnlockDiagnosticVMOptions -XX:-DisplayVMOutput -XX:+LogVMOutput -XX:LogFile=/var/log/hbase/vm.log -XX:+SafepointTimeout -XX:SafepointTimeoutDelay=100 -XX:+PrintGCApplicationConcurrentTime -XX:+PrintSafepointStatistics -XX:PrintSafepointStatisticsCount=1 -XX:-UseBiasedLocking -XX:GuaranteedSafepointInterval=10000"
        },
        "hdfs-site": {
            "dfs.datanode.handler.count": "64",
            "dfs.namenode.service.handler.count": "300",
            "dfs.namenode.handler.count": "100",
            "dfs.datanode.max.transfer.threads": "40960"
        },
        "hadoop-env": {
            "HADOOP_NAMENODE_HEAPSIZE": "4g",
            "HADOOP_DATANODE_HEAPSIZE": "4g",
            "HADOOP_SECONDARYNAMENODE_HEAPSIZE": "4g"
        },
        "zoo.cfg": {
            "maxSessionTimeout": "80000",
            "tickTime": "4000",
            "minSessionTimeout": "8000"
        },
        "zookeeper-env": { "SERVER_HEAPSIZE": "4g" }
    },
    "SERVER_CONFIG":[
        {
            "serviceName":"hbase",
            "config": {
                "items": [
                    {
                        "name": "hbase_rpc_timeout",
                        "value": "30000"
                    },
                    {
                        "name": "hbase_snapshot_master_timeoutMillis",
                        "value": "600000"
                    },
                    {
                        "name": "hbase_snapshot_region_timeout",
                        "value": "3600000"
                    },
                    {
                        "name": "hbase_snapshot_master_timeout_millis",
                        "value": "600000"
                    }
                ]
            }
        },
        {
            "serviceName":"hdfs",
            "config": {
                "items": [
                    {
                        "name": "dfs_namenode_acls_enabled",
                        "value": "true"
                    }
                ]
            }
        },
        {
            "serviceName":"yarn",
            "config": {
                "items": [
                    {
                        "name": "yarn_log_aggregation_retain_seconds",
                        "value": "2592000"
                    }
                ]
            }
        },
        {
            "serviceName":"zookeeper",
            "config": {
                "items": [
                    {
                        "name": "tickTime",
                        "value": "4000"
                    }
                ]
            }
        }
    ],
    "SERVICE_CONFIG_SITE":[
        {
            "serviceName":"hbase",
            "config": {
                "items": [
                    {
                        "name": "smon_client_config_overrides",
                        "value": "<property><name>zookeeper.recovery.retry</name><value>0</value></property> <property><name>zookeeper.recovery.retry.intervalmill</name><value>3000</value></property> <property><name>hbase.zookeeper.recoverable.waittime</name><value>1000</value></property> <property><name>zookeeper.session.timeout</name><value>60000</value></property> <property><name>hbase.rpc.timeout</name><value>30000</value></property> <property><name>hbase.client.retries.number</name><value>1</value></property> <property><name>hbase.client.rpc.maxattempts</name><value>1</value></property> <property><name>hbase.client.operation.timeout</name><value>10000</value></property>"
                    }
                ]
            }
        }
    ],
    "ROLE_CONFIG_GROUP":[
        {
            "serviceName":"hbase",
            "roleType":"MASTER",
            "config": {
                "items": [
                    {
                        "name": "hbase_master_handler_count",
                        "value": "100"
                    },
                    {
                        "name": "hbase_master_java_heapsize",
                        "value": "17179869184"
                    },
                    {
                        "name": "rlimit_fds",
                        "value": "65536"
                    }
                ]
            }
        },
        {
            "serviceName":"hbase",
            "roleType":"GATEWAY",
            "config": {
                "items": [
                    {
                        "name": "hbase_client_scanner_timeout_period",
                        "value": "3600000"
                    }
                ]
            }
        },
        {
            "serviceName":"hbase",
            "roleType":"REGIONSERVER",
            "config": {
                "items": [
                    {
                        "name": "hbase_regionserver_lease_period",
                        "value": "3600000"
                    },
                    {
                        "name": "hbase_hregion_memstore_flush_size",
                        "value": "268435456"
                    },
                    {
                        "name": "hbase_hregion_memstore_block_multiplier",
                        "value": "7"
                    },
                    {
                        "name": "hbase_hstore_blockingStoreFiles",
                        "value": "200"
                    },
                    {
                        "name": "hbase_regionserver_handler_count",
                        "value": "300"
                    },
                    {
                        "name": "hbase_regionserver_metahandler_count",
                        "value": "100"
                    },
                    {
                        "name": "hbase_regionserver_global_memstore_upperLimit",
                        "value": "0.6"
                    },
                    {
                        "name": "hbase_regionserver_maxlogs",
                        "value": "150"
                    },
                    {
                        "name": "hbase_hregion_max_filesize",
                        "value": "107374182400"
                    },
                    {
                        "name": "hbase_hregion_majorcompaction",
                        "value": "0"
                    },
                    {
                        "name": "hfile_block_cache_size",
                        "value": "0.2"
                    },
                    {
                        "name": "hbase_ipc_server_read_threadpool_size",
                        "value": "50"
                    },
                    {
                        "name": "hbase_regionserver_java_heapsize",
                        "value": "53687091200"
                    },
                    {
                        "name": "hbase_bucketcache_ioengine",
                        "value": "offheap"
                    },
                    {
                        "name": "hbase_bucketcache_size",
                        "value": "15360"
                    },
                    {
                        "name": "hbase_regionserver_java_opts",
                        "value": "-XX:+UseG1GC -XX:MaxGCPauseMillis=70 -XX:+ParallelRefProcEnabled -XX:-ResizePLAB -XX:ParallelGCThreads=38 -XX:+UnlockExperimentalVMOptions -XX:G1NewSizePercent=2 -XX:G1MaxNewSizePercent=40 -XX:MaxTenuringThreshold=5 -XX:InitiatingHeapOccupancyPercent=65 -verbose:gc -Xloggc:/var/log/hbase/gc -XX:+PrintGC -XX:+PrintGCDetails -XX:+PrintGCDateStamps -XX:+UseGCLogFileRotation -XX:NumberOfGCLogFiles=10 -XX:GCLogFileSize=128M -XX:PrintFLSStatistics=2 -XX:+PrintHeapAtGC -XX:+PrintTenuringDistribution -XX:+PrintGCApplicationStoppedTime -XX:+PrintAdaptiveSizePolicy -XX:+UnlockDiagnosticVMOptions -XX:-DisplayVMOutput -XX:+LogVMOutput -XX:LogFile=/var/log/hbase/vm.log -XX:+SafepointTimeout -XX:SafepointTimeoutDelay=100 -XX:+PrintGCApplicationConcurrentTime -XX:+PrintSafepointStatistics -XX:PrintSafepointStatisticsCount=1 -XX:-UseBiasedLocking -XX:GuaranteedSafepointInterval=10000"
                    },
                    {
                        "name": "rlimit_fds",
                        "value": "65536"
                    }
                ]
            }
        },
        {
            "serviceName":"hdfs",
            "roleType":"NAMENODE",
            "config": {
                "items": [
                    {
                        "name": "dfs_namenode_handler_count",
                        "value": "100"
                    },
                    {
                        "name": "dfs_namenode_service_handler_count",
                        "value": "300"
                    },
                    {
                        "name": "dfs_namenode_servicerpc_address",
                        "value": "8022"
                    }
                ]
            }
        },
        {
            "serviceName":"hdfs",
            "roleType":"DATANODE",
            "config": {
                "items": [
                    {
                        "name": "dfs_datanode_failed_volumes_tolerated",
                        "value": "3"
                    },
                    {
                        "name": "datanode_java_heapsize",
                        "value": "4294967296"
                    },
                    {
                        "name": "dfs_datanode_handler_count",
                        "value": "64"
                    },
                    {
                        "name": "dfs_datanode_max_xcievers",
                        "value": "40960"
                    },
                    {
                        "name": "datanode_block_count_thresholds",
                        "value": "{\"warning\":\"1000000\",\"critical\":\"-2.0\"}"
                    }
                ]
            }
        },
        {
            "serviceName":"zookeeper",
            "roleType":"SERVER",
            "config": {
                "items": [
                    {
                        "name": "maxClientCnxns",
                        "value": "0"
                    },
                    {
                        "name": "minSessionTimeout",
                        "value": "8000"
                    },
                    {
                        "name": "maxSessionTimeout",
                        "value": "80000"
                    }
                ]
            }
        },
        {
            "serviceName":"yarn",
            "roleType":"GATEWAY",
            "config": {
                "items": [
                    {
                        "name": "mapred_submit_replication",
                        "value": "3"
                    },
                    {
                        "name": "mapred_reduce_tasks",
                        "value": "252"
                    },
                    {
                        "name": "yarn_app_mapreduce_am_max_heap",
                        "value": "912680550"
                    },
                    {
                        "name": "mapreduce_client_java_heapsize",
                        "value": "1073741824"
                    }
                ]
            }
        },
        {
            "serviceName":"yarn",
            "roleType":"NODEMANAGER",
            "config": {
                "items": [
                    {
                        "name": "yarn_nodemanager_heartbeat_interval_ms",
                        "value": "100"
                    },
                    {
                        "name": "yarn_nodemanager_resource_memory_mb",
                        "value": "204800"
                    },
                    {
                        "name": "yarn_nodemanager_resource_cpu_vcores",
                        "value": "72"
                    },
                    {
                        "name": "yarn_nodemanager_remote_app_log_dir",
                        "value": "/tmp/logs"
                    }
                ]
            }
        },
        {
            "serviceName":"yarn",
            "roleType":"RESOURCEMANAGER",
            "config": {
                "items": [
                    {
                        "name": "yarn_scheduler_maximum_allocation_mb",
                        "value": "329728"
                    },
                    {
                        "name": "yarn_scheduler_maximum_allocation_vcores",
                        "value": "72"
                    }
                ]
            }
        }
    ],
    "ROLE_CONFIG_GROUP_SITE":[
        {
            "serviceName":"hbase",
            "roleType":"MASTER",
            "config": {
                "items": [
                    {
                        "name": "hbase_master_config_safety_valve",
                        "value": "<property><name>hbase.snapshot.master.timeoutMillis</name><value>600000</value></property> <property><name>hbase.rootdir.perms</name><value>750</value></property> <property><name>hbase.table.sanity.checks</name><value>false</value></property>"
                    }
                ]
            }
        },
        {
            "serviceName":"hbase",
            "roleType":"GATEWAY",
            "config": {
                "items": [
                    {
                        "name": "hbase_client_config_safety_valve",
                        "value": "<property><name>hbase.transaction.lease.timeout</name><value>72000000</value></property>"
                    }
                ]
            }
        },
        {
            "serviceName":"hbase",
            "roleType":"REGIONSERVER",
            "config": {
                "items": [
                    {
                        "name": "hbase_regionserver_config_safety_valve",
                        "value": "<property><name>hbase.hregion.impl</name><value>org.apache.hadoop.hbase.regionserver.transactional.TransactionalRegion</value></property> <property><name>hbase.regionserver.region.split.policy</name><value>org.apache.hadoop.hbase.regionserver.ConstantSizeRegionSplitPolicy</value></property> <property><name>hbase.snapshot.enabled</name><value>true</value></property> <property><name>hbase.snapshot.region.timeout</name><value>600000</value></property> <property><name>hbase.rs.cost.warn.threshold</name><value>30</value></property> <property><name>hbase.ipc.warn.response.time</name><value>30</value></property> <property><name>hbase.ipc.server.listen.queue.size</name><value>200</value></property> <property><name>hbase.ipc.server.callqueue.handler.factor</name><value>0.1</value></property> <property><name>hbase.ipc.server.callqueue.read.ratio</name><value>0.5</value></property> <property><name>hbase.ipc.server.callqueue.scan.ratio</name><value>0.5</value></property><property><name>hbase.coprocessor.regionserver.classes</name><value>org.apache.hadoop.hbase.coprocessor.transactional.TrxRegionServerObserver</value></property>"
                    }
                ]
            }
        }
    ],
    "ENV_CONFIG":[
        {
            "serviceName":"hbase",
            "config": {
                "items": [
                    {
                        "name": "hbase_service_env_safety_valve",
                        "value": "RECORD_TIME_COST_COPRO=-1\nRECORD_TIME_COST_COPRO_ALL=-1"
                    }
                ]
            }
        }
    ]
}
