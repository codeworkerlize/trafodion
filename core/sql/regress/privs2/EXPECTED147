>>log LOG147;
>>
>>get groups;

User Groups
===========

GROUP1
GROUP2

=======================
 2 row(s) returned

--- SQL operation complete.
>>
>>--ok
>>REGISTER GROUP group3;

--- SQL operation complete.
>>get groups;

User Groups
===========

GROUP1
GROUP2
GROUP3

=======================
 3 row(s) returned

--- SQL operation complete.
>>UNREGISTER GROUP group3;

--- SQL operation complete.
>>get groups;

User Groups
===========

GROUP1
GROUP2

=======================
 2 row(s) returned

--- SQL operation complete.
>>
>>REGISTER GROUP group3 config 'abc';

*** WARNING[1329] The suffix 'CONFIG' is only use for the LDAP authentication and will be ignored.

--- SQL operation complete.
>>get groups;

User Groups
===========

GROUP1
GROUP2
GROUP3

=======================
 3 row(s) returned

--- SQL operation complete.
>>UNREGISTER GROUP group3 RESTRICT;

--- SQL operation complete.
>>get groups;

User Groups
===========

GROUP1
GROUP2

=======================
 2 row(s) returned

--- SQL operation complete.
>>
>>call fun1();

(EXPR)
----------

 0

--- 1 row(s) selected.

--- SQL operation complete.
>>
>>alter user user1 add groups(group1);

--- SQL operation complete.
>>
>>call fun1();

(EXPR)
----------

 1

--- 1 row(s) selected.

--- SQL operation complete.
>>
>>alter user user1 add groups(group1,group2);

--- SQL operation complete.
>>
>>call fun1();

(EXPR)
----------

 2

--- 1 row(s) selected.

--- SQL operation complete.
>>
>>drop user user1;

--- SQL operation complete.
>>
>>call fun2();

(EXPR)
----------

 0

--- 1 row(s) selected.

--- SQL operation complete.
>>
>>create user user1;

--- SQL operation complete.
>>
>>call fun1();

(EXPR)
----------

 0

--- 1 row(s) selected.

--- SQL operation complete.
>>
>>alter user user1 add groups(group1);

--- SQL operation complete.
>>alter user user2 add groups(group1);

--- SQL operation complete.
>>
>>call fun2();

(EXPR)
----------

 0

--- 1 row(s) selected.

--- SQL operation complete.
>>
>>drop group group1;

--- SQL operation complete.
>>
>>call fun1();

(EXPR)
----------

 0

--- 1 row(s) selected.

--- SQL operation complete.
>>
>>create group group1;

--- SQL operation complete.
>>
>>
>>
>>
>>
>>--ng
>>create group group1;

*** ERROR[1334] Authorization identifier GROUP1 already exists.

--- SQL operation failed with errors.
>>create group user1;

*** ERROR[1334] Authorization identifier USER1 already exists.

--- SQL operation failed with errors.
>>drop group user1;

*** ERROR[1086] USER1 is not a user group.

--- SQL operation failed with errors.
>>UNREGISTER GROUP group10;

*** ERROR[1336] User group GROUP10 does not exist.

--- SQL operation failed with errors.
>>
>>--user
>>get groups for user user1;

--- SQL operation complete.
>>get members in group group1;

--- SQL operation complete.
>>
>>alter user user1 add groups(group1);

--- SQL operation complete.
>>get groups for user user1;

User Groups for User USER1
==========================

GROUP1

=======================
 1 row(s) returned

--- SQL operation complete.
>>get members in group group1;

Members of User Group GROUP1
============================

USER1

=======================
 1 row(s) returned

--- SQL operation complete.
>>alter user user1 remove groups(group1);

--- SQL operation complete.
>>get groups for user user1;

--- SQL operation complete.
>>get members in group group1;

--- SQL operation complete.
>>
>>get members in group group2;

--- SQL operation complete.
>>alter user user1 add groups(group1,group2);

--- SQL operation complete.
>>get groups for user user1;

User Groups for User USER1
==========================

GROUP1
GROUP2

=======================
 2 row(s) returned

--- SQL operation complete.
>>get members in group group1;

Members of User Group GROUP1
============================

USER1

=======================
 1 row(s) returned

--- SQL operation complete.
>>get members in group group2;

Members of User Group GROUP2
============================

USER1

=======================
 1 row(s) returned

--- SQL operation complete.
>>alter user user1 remove groups(group1,group2);

--- SQL operation complete.
>>get groups for user user1;

--- SQL operation complete.
>>get members in group group1;

--- SQL operation complete.
>>get members in group group2;

--- SQL operation complete.
>>
>>alter user user1 add groups(group1,group1,group1,group1,group1);

--- SQL operation complete.
>>get groups for user user1;

User Groups for User USER1
==========================

GROUP1

=======================
 1 row(s) returned

--- SQL operation complete.
>>get members in group group1;

Members of User Group GROUP1
============================

USER1

=======================
 1 row(s) returned

--- SQL operation complete.
>>
>>alter user user1 remove groups(group1,group1,group1,group1,group1);

--- SQL operation complete.
>>get groups for user user1;

--- SQL operation complete.
>>get members in group group1;

--- SQL operation complete.
>>
>>alter user user1 add groups(group1,group1,group1,group1,group1,group2);

--- SQL operation complete.
>>get groups for user user1;

User Groups for User USER1
==========================

GROUP1
GROUP2

=======================
 2 row(s) returned

--- SQL operation complete.
>>get members in group group1;

Members of User Group GROUP1
============================

USER1

=======================
 1 row(s) returned

--- SQL operation complete.
>>get members in group group2;

Members of User Group GROUP2
============================

USER1

=======================
 1 row(s) returned

--- SQL operation complete.
>>
>>alter user user1 remove groups(group1,group1,group1,group1,group1,group2);

--- SQL operation complete.
>>get groups for user user1;

--- SQL operation complete.
>>get members in group group1;

--- SQL operation complete.
>>get members in group group2;

--- SQL operation complete.
>>
>>alter user user1 add groups(group1);

--- SQL operation complete.
>>get groups for user user1;

User Groups for User USER1
==========================

GROUP1

=======================
 1 row(s) returned

--- SQL operation complete.
>>
>>alter user user1 remove groups(group2,group1);

*** ERROR[1353] User USER1 is not member of group GROUP2.

--- SQL operation failed with errors.
>>get groups for user user1;

User Groups for User USER1
==========================

GROUP1

=======================
 1 row(s) returned

--- SQL operation complete.
>>get members in group group1;

Members of User Group GROUP1
============================

USER1

=======================
 1 row(s) returned

--- SQL operation complete.
>>get members in group group2;

--- SQL operation complete.
>>
>>alter user user1 remove groups(group1,group2);

*** ERROR[1353] User USER1 is not member of group GROUP2.

--- SQL operation failed with errors.
>>get groups for user user1;

User Groups for User USER1
==========================

GROUP1

=======================
 1 row(s) returned

--- SQL operation complete.
>>get members in group group1;

Members of User Group GROUP1
============================

USER1

=======================
 1 row(s) returned

--- SQL operation complete.
>>get members in group group2;

--- SQL operation complete.
>>
>>--NG
>>alter user user1 add groups(group1);

--- SQL operation complete.
>>
>>alter user user1 add groups(abc);

*** ERROR[1336] User group ABC does not exist.

--- SQL operation failed with errors.
>>alter user user1 add groups(user1);

*** ERROR[1350] USER1 is not a group.

--- SQL operation failed with errors.
>>alter user user1 add groups(role1);

*** ERROR[1350] ROLE1 is not a group.

--- SQL operation failed with errors.
>>
>>alter user user1 add groups(abc,user1,group1,group1,group2);

*** ERROR[1336] User group ABC does not exist.

--- SQL operation failed with errors.
>>get groups for user user1;

User Groups for User USER1
==========================

GROUP1

=======================
 1 row(s) returned

--- SQL operation complete.
>>get members in group group1;

Members of User Group GROUP1
============================

USER1

=======================
 1 row(s) returned

--- SQL operation complete.
>>get members in group group2;

--- SQL operation complete.
>>alter user user1 add groups(group2,group1,role1);

*** ERROR[1350] ROLE1 is not a group.

--- SQL operation failed with errors.
>>get groups for user user1;

User Groups for User USER1
==========================

GROUP1

=======================
 1 row(s) returned

--- SQL operation complete.
>>get members in group group1;

Members of User Group GROUP1
============================

USER1

=======================
 1 row(s) returned

--- SQL operation complete.
>>
>>
>>--group
>>get groups for user user1;

User Groups for User USER1
==========================

GROUP1

=======================
 1 row(s) returned

--- SQL operation complete.
>>get members in group group1;

Members of User Group GROUP1
============================

USER1

=======================
 1 row(s) returned

--- SQL operation complete.
>>alter group group1 add members(user1);

--- SQL operation complete.
>>get groups for user user1;

User Groups for User USER1
==========================

GROUP1

=======================
 1 row(s) returned

--- SQL operation complete.
>>get members in group group1;

Members of User Group GROUP1
============================

USER1

=======================
 1 row(s) returned

--- SQL operation complete.
>>alter group group1 remove members(user1);

--- SQL operation complete.
>>get groups for user user1;

--- SQL operation complete.
>>get members in group group1;

--- SQL operation complete.
>>
>>alter group group1 add members(user1,user2);

--- SQL operation complete.
>>get groups for user user1;

User Groups for User USER1
==========================

GROUP1

=======================
 1 row(s) returned

--- SQL operation complete.
>>get groups for user user2;

User Groups for User USER2
==========================

GROUP1

=======================
 1 row(s) returned

--- SQL operation complete.
>>get members in group group1;

Members of User Group GROUP1
============================

USER1
USER2

=======================
 2 row(s) returned

--- SQL operation complete.
>>alter group group1 remove members(user1,user2);

--- SQL operation complete.
>>get groups for user user1;

--- SQL operation complete.
>>get groups for user user2;

--- SQL operation complete.
>>get members in group group1;

--- SQL operation complete.
>>
>>alter group group1 add members(user1,user1,user1,user1);

--- SQL operation complete.
>>get groups for user user1;

User Groups for User USER1
==========================

GROUP1

=======================
 1 row(s) returned

--- SQL operation complete.
>>get members in group group1;

Members of User Group GROUP1
============================

USER1

=======================
 1 row(s) returned

--- SQL operation complete.
>>
>>alter group group1 remove members(user1,user1,user1,user1);

--- SQL operation complete.
>>get groups for user user1;

--- SQL operation complete.
>>get members in group group1;

--- SQL operation complete.
>>
>>alter group group1 add members(user1,user1,user2);

--- SQL operation complete.
>>get groups for user user1;

User Groups for User USER1
==========================

GROUP1

=======================
 1 row(s) returned

--- SQL operation complete.
>>get groups for user user2;

User Groups for User USER2
==========================

GROUP1

=======================
 1 row(s) returned

--- SQL operation complete.
>>get members in group group1;

Members of User Group GROUP1
============================

USER1
USER2

=======================
 2 row(s) returned

--- SQL operation complete.
>>
>>alter group group1 remove members(user1,user1,user2);

--- SQL operation complete.
>>get groups for user user1;

--- SQL operation complete.
>>get groups for user user2;

--- SQL operation complete.
>>get members in group group1;

--- SQL operation complete.
>>
>>alter group group1 add members(user1);

--- SQL operation complete.
>>alter group group1 add members(user1);

--- SQL operation complete.
>>alter group group1 add members(user1);

--- SQL operation complete.
>>alter group group1 add members(user1);

--- SQL operation complete.
>>get members in group group1;

Members of User Group GROUP1
============================

USER1

=======================
 1 row(s) returned

--- SQL operation complete.
>>
>>alter group group1 remove members(user1);

--- SQL operation complete.
>>alter group group1 remove members(user1);

*** ERROR[1353] User USER1 is not member of group GROUP1.

--- SQL operation failed with errors.
>>alter group group1 remove members(user1);

*** ERROR[1353] User USER1 is not member of group GROUP1.

--- SQL operation failed with errors.
>>alter group group1 remove members(user1);

*** ERROR[1353] User USER1 is not member of group GROUP1.

--- SQL operation failed with errors.
>>get groups for user user1;

--- SQL operation complete.
>>get members in group group1;

--- SQL operation complete.
>>
>>alter group group1 remove members(user2);

*** ERROR[1353] User USER2 is not member of group GROUP1.

--- SQL operation failed with errors.
>>get groups for user user2;

--- SQL operation complete.
>>get members in group group1;

--- SQL operation complete.
>>
>>--NG
>>alter group group1 add members(abc);

*** ERROR[1333] User ABC does not exist.

--- SQL operation failed with errors.
>>alter group group1 remove members(abc);

*** ERROR[1333] User ABC does not exist.

--- SQL operation failed with errors.
>>alter group group1 add members(group1);

*** ERROR[1340] GROUP1 is not a user.

--- SQL operation failed with errors.
>>alter group group1 remove members(group1);

*** ERROR[1340] GROUP1 is not a user.

--- SQL operation failed with errors.
>>
>>alter group group1 add members(abc,user1,user2,group1,group1);

*** ERROR[1333] User ABC does not exist.

--- SQL operation failed with errors.
>>get groups for user user1;

--- SQL operation complete.
>>get groups for user user2;

--- SQL operation complete.
>>get members in group group1;

--- SQL operation complete.
>>
>>alter group group1 add members(user1,user2);

--- SQL operation complete.
>>alter group group1 remove members(abc,user1,group1,group1,group2);

*** ERROR[1333] User ABC does not exist.

--- SQL operation failed with errors.
>>get groups for user user2;

User Groups for User USER2
==========================

GROUP1

=======================
 1 row(s) returned

--- SQL operation complete.
>>get members in group group1;

Members of User Group GROUP1
============================

USER1
USER2

=======================
 2 row(s) returned

--- SQL operation complete.
>>
>>--NG
>>get groups for user abc;

*** ERROR[1340] ABC is not a user.

--- SQL operation failed with errors.
>>get groups for user group1;

*** ERROR[1340] GROUP1 is not a user.

--- SQL operation failed with errors.
>>get members in group user2;

*** ERROR[1350] USER2 is not a group.

--- SQL operation failed with errors.
>>get members in group group10;

*** ERROR[1350] GROUP10 is not a group.

--- SQL operation failed with errors.
>>
>>log;
