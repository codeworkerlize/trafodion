>>obey TEST057(make_patterns);
>>---------------------------------------------------------------------
>>log;
>>
>>obey TEST057(java_compile);
>>--------------------------------------------------------------------------
>>log;
------------------------------------------------------------------------------
-- Archiving Java class files:
--    TEST057.class
-- Archive will be written to: TEST057.jar
-- Executing: $jar cMf TEST057.jar TEST057.class
-- $jar returned 0
------------------------------------------------------------------------------
>>
>>---------------------------------------------------------------------
>>obey TEST057(tests);
>>create schema if not exists sch057;

--- SQL operation complete.
>>set schema sch057;

--- SQL operation complete.
>>
>>obey TEST057(create_library);
>>--------------------------------------------------------------------------
>>create library TEST057 file $$JARFILE_Q$$;

--- SQL operation complete.
>>
>>obey TEST057(create_procs);
>>create procedure proc1 (
+>  in onOrAfterDate char(20),
+>  out Num_Orders largeint
+>)
+>language java parameter style java reads sql data dynamic result sets 2
+>external name 'TEST057.proc1' library TEST057;

--- SQL operation complete.
>>
>>
>>create table t1 (a int primary key, b blob(100), c clob(100));

--- SQL operation complete.
>>insert into t1 values (1, 'a', 'b');

--- 1 row(s) inserted.
>>select * from t1;

A            B                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 C
-----------  ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------  ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

          1  LOBH00010002000105984928657646011143000000000000000000480598492865771745032700000000000000000001                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  LOBH00010002000205984928657646011143000000000000000000480598492865771955455700000000000000000002                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                

--- 1 row(s) selected.
>>truncate table t1;

--- SQL operation complete.
>>select * from t1;

--- 0 row(s) selected.
>>insert into t1 values (1, 'a', 'b');

--- 1 row(s) inserted.
>>create view vt1 as select * from t1;

--- SQL operation complete.
>>
>>showddl "_MD_".libraries, lob details;

CREATE TABLE TRAFODION."_MD_".LIBRARIES
  (
    LIBRARY_UID                      LARGEINT NO DEFAULT NOT NULL NOT DROPPABLE
  , LIBRARY_FILENAME                 VARCHAR(512) CHARACTER SET ISO88591
      COLLATE DEFAULT NO DEFAULT NOT NULL NOT DROPPABLE
  , LIBRARY_STORAGE                  BLOB( 5368709120 bytes) DEFAULT NULL
  , VERSION                          INT NO DEFAULT NOT NULL NOT DROPPABLE
  , FLAGS                            LARGEINT NO DEFAULT NOT NULL NOT DROPPABLE
  , PRIMARY KEY (LIBRARY_UID ASC)
  )
 ATTRIBUTES NAMESPACE 'TRAF_RSRVD_1'
;

LOB Metadata
============

CREATE TABLE TRAFODION."_MD_".LOBMD__00556402256385255654
  (
    LOBNUM                           SMALLINT NO DEFAULT NOT NULL NOT DROPPABLE
  , STORAGETYPE                      SMALLINT NO DEFAULT NOT NULL NOT DROPPABLE
  , LOCATION                         VARCHAR(4096) CHARACTER SET ISO88591
      COLLATE DEFAULT NO DEFAULT NOT NULL NOT DROPPABLE
  , COLUMN_NAME                      VARCHAR(256 BYTES) CHARACTER SET UTF8
      COLLATE DEFAULT DEFAULT NULL
  , PRIMARY KEY (LOBNUM ASC)
  )
 ATTRIBUTES NAMESPACE 'TRAF_RSRVD_1'
;

************************************************
LobNum: 1

Data Storage
============

Location: /user/trafodion/lobs
DataFile: LOBP_00556402256385255654_0002

LOB Descriptor Handle
=====================

CREATE TABLE TRAFODION."_MD_"."LOBDescHandle__00556402256385255654_0002"
  (
    DESCPARTNKEY                     LARGEINT NO DEFAULT NOT NULL NOT DROPPABLE
  , NUMCHUNKS                        INT NO DEFAULT NOT NULL NOT DROPPABLE
  , LOBLEN                           LARGEINT NO DEFAULT NOT NULL NOT DROPPABLE
  )
  STORE BY (DESCPARTNKEY ASC)
  SALT USING 8 PARTITIONS
 ATTRIBUTES NAMESPACE 'TRAF_RSRVD_1'
;

LOB Descriptor Chunks
=====================

CREATE TABLE TRAFODION."_MD_"."LOBDescChunks__00556402256385255654_0002"
  (
    DESCPARTNKEY                     LARGEINT NO DEFAULT NOT NULL NOT DROPPABLE
  , DESCSYSKEY                       LARGEINT NO DEFAULT NOT NULL NOT DROPPABLE
  , CHUNKNUM                         INT NO DEFAULT NOT NULL NOT DROPPABLE
  , CHUNKLEN                         LARGEINT NO DEFAULT NOT NULL NOT DROPPABLE
  , DATAOFFSET                       LARGEINT DEFAULT NULL
  , STRINGPARAM                      VARCHAR(400) CHARACTER SET ISO88591
      COLLATE DEFAULT DEFAULT NULL
  , PRIMARY KEY (DESCPARTNKEY ASC, DESCSYSKEY ASC, CHUNKNUM ASC)
  )
  SALT USING 8 PARTITIONS
 ATTRIBUTES NAMESPACE 'TRAF_RSRVD_1'
;

--- SQL operation complete.
>>showddl t1, lob details;

CREATE TABLE TRAFODION.SCH057.T1
  (
    A                                INT NO DEFAULT NOT NULL NOT DROPPABLE
  , B                                BLOB( 100 bytes) DEFAULT NULL
  , C                                CLOB( 100 bytes) CHARACTER SET ISO88591
      DEFAULT NULL
  , PRIMARY KEY (A ASC)
  )
 ATTRIBUTES ALIGNED FORMAT NAMESPACE 'TRAF_regr'
;

LOB Metadata
============

CREATE TABLE TRAFODION."_MD_".LOB_COLUMNS
  (
    TABLE_UID                        LARGEINT NO DEFAULT NOT NULL NOT DROPPABLE
  , LOBNUM                           INT NO DEFAULT NOT NULL NOT DROPPABLE
  , STORAGETYPE                      SMALLINT NO DEFAULT NOT NULL NOT DROPPABLE
  , LOCATION                         VARCHAR(4096) CHARACTER SET ISO88591
      COLLATE DEFAULT NO DEFAULT NOT NULL NOT DROPPABLE
  , COLUMN_NAME                      VARCHAR(256 BYTES) CHARACTER SET UTF8
      COLLATE DEFAULT NO DEFAULT NOT NULL NOT DROPPABLE
  , NUM_LOB_FILES                    INT NO DEFAULT NOT NULL NOT DROPPABLE
  , INLINED_DATA_MAXLEN              INT NO DEFAULT NOT NULL NOT DROPPABLE
  , HBASE_DATA_MAXLEN                LARGEINT NO DEFAULT NOT NULL NOT DROPPABLE
  , LOB_CHUNK_MAXLEN                 INT NO DEFAULT NOT NULL NOT DROPPABLE
  , FLAGS                            LARGEINT NO DEFAULT NOT NULL NOT DROPPABLE
 , CONSTRAINT TRAFODION."_MD_".LOB_COLUMNS_PK PRIMARY KEY (TABLE_UID ASC,
    LOBNUM ASC)
  )
 ATTRIBUTES ALIGNED FORMAT NAMESPACE 'TRAF_RSRVD_1'
;

LOB CHUNKS table
================

CREATE TABLE TRAFODION.SCH057.LOBCHUNKS__05984928657646011143
  (
    LOBUID                           LARGEINT NO DEFAULT NOT NULL NOT DROPPABLE
  , LOBSEQ                           LARGEINT NO DEFAULT NOT NULL NOT DROPPABLE
  , LOBNUM                           INT UNSIGNED NO DEFAULT NOT NULL NOT
      DROPPABLE
  , CHUNKNUM                         INT UNSIGNED NO DEFAULT NOT NULL NOT
      DROPPABLE
  , CHUNKLEN                         LARGEINT DEFAULT NULL
  , HDFS_OFFSET                      LARGEINT DEFAULT NULL
  , HDFS_OFFSET_2                    LARGEINT DEFAULT NULL
  , FLAGS                            LARGEINT DEFAULT NULL
  , STRINGPARAM                      VARCHAR(1000) CHARACTER SET ISO88591
      COLLATE DEFAULT DEFAULT NULL
  , DATA_IN_HBASE                    VARBINARY(1048576) DEFAULT NULL
  , PRIMARY KEY (LOBUID ASC, LOBSEQ ASC, LOBNUM ASC, CHUNKNUM ASC)
  )
  SALT USING 4 PARTITIONS
       ON (LOBUID)
 ATTRIBUTES NAMESPACE 'TRAF_regr'
;

--- SQL operation complete.
>>showddl procedure proc1;

CREATE PROCEDURE TRAFODION.SCH057.PROC1
  (
    IN ONORAFTERDATE CHAR(20) CHARACTER SET ISO88591
  , OUT NUM_ORDERS LARGEINT
  )
  EXTERNAL NAME 'TEST057.proc1 (java.lang.String,long[],java.sql.ResultSet[],java.sql.ResultSet[])'
  LIBRARY TRAFODION.SCH057.TEST057
  EXTERNAL SECURITY INVOKER
  LANGUAGE JAVA
  PARAMETER STYLE JAVA
  READS SQL DATA
  DYNAMIC RESULT SETS 2
  TRANSACTION REQUIRED
  ISOLATE
  ;

--- SQL operation complete.
>>showddl library test057;
CREATE LIBRARY TRAFODION.SCH057.TEST057 FILE 'TEST057.jar'
;

--- SQL operation complete.
>>showddl vt1;

CREATE VIEW TRAFODION.SCH057.VT1 AS
  SELECT TRAFODION.SCH057.T1.A, TRAFODION.SCH057.T1.B, TRAFODION.SCH057.T1.C
    FROM TRAFODION.SCH057.T1 ;

--- SQL operation complete.
>>
>>get tables;

Tables in Schema TRAFODION.SCH057
=================================

LOBCHUNKS__05984928657646011143
SB_HISTOGRAMS
SB_HISTOGRAM_INTERVALS
SB_PERSISTENT_SAMPLES
T1

=======================
 5 row(s) returned

--- SQL operation complete.
>>get procedures;

Procedures in Schema TRAFODION.SCH057
=====================================

PROC1

=======================
 1 row(s) returned

--- SQL operation complete.
>>get libraries;

Libraries in Schema TRAFODION.SCH057
====================================

TEST057

=======================
 1 row(s) returned

--- SQL operation complete.
>>get views;

Views in Schema TRAFODION.SCH057
================================

VT1

=======================
 1 row(s) returned

--- SQL operation complete.
>>
>>get objects in schema sch057;

Tables in Schema TRAFODION.SCH057
=================================

LOBCHUNKS__05984928657646011143
SB_HISTOGRAMS
SB_HISTOGRAM_INTERVALS
SB_PERSISTENT_SAMPLES
T1

=======================
 5 row(s) returned

Views in Schema TRAFODION.SCH057
================================

VT1

=======================
 1 row(s) returned

Libraries in Schema TRAFODION.SCH057
====================================

TEST057

=======================
 1 row(s) returned

Procedures in Schema TRAFODION.SCH057
=====================================

PROC1

=======================
 1 row(s) returned

--- SQL operation complete.
>>
>>backup trafodion, schema (sch057), tag 'test057tag1', override, show objects;

MetaData Objects
================

TRAF_RSRVD_3:TRAFODION."_BACKUP_test057tag1_".COLUMNS
TRAF_RSRVD_3:TRAFODION."_BACKUP_test057tag1_".INDEXES
TRAF_RSRVD_3:TRAFODION."_BACKUP_test057tag1_".KEYS
TRAF_RSRVD_3:TRAFODION."_BACKUP_test057tag1_".LIBRARIES
TRAF_RSRVD_3:TRAFODION."_BACKUP_test057tag1_".LOBCHUNKS__00556402256385255654
TRAF_RSRVD_3:TRAFODION."_BACKUP_test057tag1_".LIBRARIES_USAGE
TRAF_RSRVD_3:TRAFODION."_BACKUP_test057tag1_".LOB_COLUMNS
TRAF_RSRVD_3:TRAFODION."_BACKUP_test057tag1_".OBJECTS
TRAF_RSRVD_3:TRAFODION."_BACKUP_test057tag1_".REF_CONSTRAINTS
TRAF_RSRVD_3:TRAFODION."_BACKUP_test057tag1_".ROUTINES
TRAF_RSRVD_3:TRAFODION."_BACKUP_test057tag1_".SEQ_GEN
TRAF_RSRVD_3:TRAFODION."_BACKUP_test057tag1_".TABLES
TRAF_RSRVD_3:TRAFODION."_BACKUP_test057tag1_".TABLE_CONSTRAINTS
TRAF_RSRVD_3:TRAFODION."_BACKUP_test057tag1_".TEXT
TRAF_RSRVD_3:TRAFODION."_BACKUP_test057tag1_".UNIQUE_REF_CONSTR_USAGE
TRAF_RSRVD_3:TRAFODION."_BACKUP_test057tag1_".VIEWS
TRAF_RSRVD_3:TRAFODION."_BACKUP_test057tag1_".VIEWS_USAGE
TRAF_RSRVD_3:TRAFODION."_BACKUP_test057tag1_".COLUMN_PRIVILEGES
TRAF_RSRVD_3:TRAFODION."_BACKUP_test057tag1_".OBJECT_PRIVILEGES
TRAF_RSRVD_3:TRAFODION."_BACKUP_test057tag1_".SCHEMA_PRIVILEGES
TRAF_RSRVD_3:TRAFODION."_BACKUP_test057tag1_".SB_HISTOGRAMS
TRAF_RSRVD_3:TRAFODION."_BACKUP_test057tag1_".SB_HISTOGRAM_INTERVALS
TRAF_RSRVD_3:TRAFODION."_BACKUP_test057tag1_".SB_PERSISTENT_SAMPLES

User objects
============

TABLE:   TRAF_regr:TRAFODION.SCH057.LOBCHUNKS__05984928657646011143
TABLE:   TRAF_regr:TRAFODION.SCH057.SB_HISTOGRAMS
TABLE:   TRAF_regr:TRAFODION.SCH057.SB_HISTOGRAM_INTERVALS
TABLE:   TRAF_regr:TRAFODION.SCH057.SB_PERSISTENT_SAMPLES
TABLE:   TRAF_regr:TRAFODION.SCH057.T1
VIEW:    TRAFODION.SCH057.VT1
ROUTINE: TRAFODION.SCH057.PROC1
LIBRARY: TRAFODION.SCH057.TEST057

Backup Stats
============
  Total:     31
  Metadata:  23
  Tables:    5
  Views:     1
  Routines:  1
  Libraries: 1


--- SQL operation complete.
>>backup trafodion, schema (sch057), tag 'test057tag1', override;

--- SQL operation complete.
>>
>>sh echo "export backup to location '$HDFS_URL/user/trafodion/schgsexport' , tag 'test057tag1';" > tmp_export_test057;
>>obey tmp_export_test057;
>>export backup to location 'hdfs://localhost:36000/user/trafodion/schgsexport' , tag 'test057tag1';

--- SQL operation complete.
>>
>>drop schema sch057 cascade;

--- SQL operation complete.
>>get objects in schema sch057;

--- SQL operation complete.
>>
>>drop backup tag, tag 'test057tag1';

--- SQL operation complete.
>>
>>sh echo "import backup from location '$HDFS_URL/user/trafodion/schgsexport', tag 'test057tag1', override;" > tmp_import_test057;
>>obey tmp_import_test057;
>>import backup from location 'hdfs://localhost:36000/user/trafodion/schgsexport', tag 'test057tag1', override;

--- SQL operation complete.
>>
>>restore trafodion, schema (sch057), tag 'test057tag1', show objects;

MetaData Objects
================

TRAF_RSRVD_3:TRAFODION."_BACKUP_test057tag1_".COLUMNS
TRAF_RSRVD_3:TRAFODION."_BACKUP_test057tag1_".COLUMN_PRIVILEGES
TRAF_RSRVD_3:TRAFODION."_BACKUP_test057tag1_".INDEXES
TRAF_RSRVD_3:TRAFODION."_BACKUP_test057tag1_".KEYS
TRAF_RSRVD_3:TRAFODION."_BACKUP_test057tag1_".LIBRARIES
TRAF_RSRVD_3:TRAFODION."_BACKUP_test057tag1_".LIBRARIES_USAGE
TRAF_RSRVD_3:TRAFODION."_BACKUP_test057tag1_".LOBCHUNKS__06570396609236182025
TRAF_RSRVD_3:TRAFODION."_BACKUP_test057tag1_".LOB_COLUMNS
TRAF_RSRVD_3:TRAFODION."_BACKUP_test057tag1_".OBJECTS
TRAF_RSRVD_3:TRAFODION."_BACKUP_test057tag1_".OBJECT_PRIVILEGES
TRAF_RSRVD_3:TRAFODION."_BACKUP_test057tag1_".REF_CONSTRAINTS
TRAF_RSRVD_3:TRAFODION."_BACKUP_test057tag1_".ROUTINES
TRAF_RSRVD_3:TRAFODION."_BACKUP_test057tag1_".SB_HISTOGRAMS
TRAF_RSRVD_3:TRAFODION."_BACKUP_test057tag1_".SB_HISTOGRAM_INTERVALS
TRAF_RSRVD_3:TRAFODION."_BACKUP_test057tag1_".SB_PERSISTENT_SAMPLES
TRAF_RSRVD_3:TRAFODION."_BACKUP_test057tag1_".SCHEMA_PRIVILEGES
TRAF_RSRVD_3:TRAFODION."_BACKUP_test057tag1_".SEQ_GEN
TRAF_RSRVD_3:TRAFODION."_BACKUP_test057tag1_".TABLES
TRAF_RSRVD_3:TRAFODION."_BACKUP_test057tag1_".TABLE_CONSTRAINTS
TRAF_RSRVD_3:TRAFODION."_BACKUP_test057tag1_".TEXT
TRAF_RSRVD_3:TRAFODION."_BACKUP_test057tag1_".UNIQUE_REF_CONSTR_USAGE
TRAF_RSRVD_3:TRAFODION."_BACKUP_test057tag1_".VIEWS
TRAF_RSRVD_3:TRAFODION."_BACKUP_test057tag1_".VIEWS_USAGE

User objects
============

TABLE:   TRAF_regr:TRAFODION.SCH057.LOBCHUNKS__05984928657646011143
TABLE:   TRAF_regr:TRAFODION.SCH057.SB_HISTOGRAMS
TABLE:   TRAF_regr:TRAFODION.SCH057.SB_HISTOGRAM_INTERVALS
TABLE:   TRAF_regr:TRAFODION.SCH057.SB_PERSISTENT_SAMPLES
TABLE:   TRAF_regr:TRAFODION.SCH057.T1
VIEW:    TRAFODION.SCH057.VT1
ROUTINE: TRAFODION.SCH057.PROC1
LIBRARY: TRAFODION.SCH057.TEST057

Restore Stats
=============
  Total:     31
  Metadata:  23
  Tables:    5
  Views:     1
  Routines:  1
  Libraries: 1


--- SQL operation complete.
>>restore trafodion, schema (sch057), tag 'test057tag1';

--- SQL operation complete.
>>
>>get objects in schema sch057;

Tables in Schema TRAFODION.SCH057
=================================

LOBCHUNKS__05984928657646011143
SB_HISTOGRAMS
SB_HISTOGRAM_INTERVALS
SB_PERSISTENT_SAMPLES
T1

=======================
 5 row(s) returned

Views in Schema TRAFODION.SCH057
================================

VT1

=======================
 1 row(s) returned

Libraries in Schema TRAFODION.SCH057
====================================

TEST057

=======================
 1 row(s) returned

Procedures in Schema TRAFODION.SCH057
=====================================

PROC1

=======================
 1 row(s) returned

--- SQL operation complete.
>>
>>showddl "_MD_".libraries, lob details;

CREATE TABLE TRAFODION."_MD_".LIBRARIES
  (
    LIBRARY_UID                      LARGEINT NO DEFAULT NOT NULL NOT DROPPABLE
  , LIBRARY_FILENAME                 VARCHAR(512) CHARACTER SET ISO88591
      COLLATE DEFAULT NO DEFAULT NOT NULL NOT DROPPABLE
  , LIBRARY_STORAGE                  BLOB( 5368709120 bytes) DEFAULT NULL
  , VERSION                          INT NO DEFAULT NOT NULL NOT DROPPABLE
  , FLAGS                            LARGEINT NO DEFAULT NOT NULL NOT DROPPABLE
  , PRIMARY KEY (LIBRARY_UID ASC)
  )
 ATTRIBUTES NAMESPACE 'TRAF_RSRVD_1'
;

LOB Metadata
============

CREATE TABLE TRAFODION."_MD_".LOBMD__00556402256385255654
  (
    LOBNUM                           SMALLINT NO DEFAULT NOT NULL NOT DROPPABLE
  , STORAGETYPE                      SMALLINT NO DEFAULT NOT NULL NOT DROPPABLE
  , LOCATION                         VARCHAR(4096) CHARACTER SET ISO88591
      COLLATE DEFAULT NO DEFAULT NOT NULL NOT DROPPABLE
  , COLUMN_NAME                      VARCHAR(256 BYTES) CHARACTER SET UTF8
      COLLATE DEFAULT DEFAULT NULL
  , PRIMARY KEY (LOBNUM ASC)
  )
 ATTRIBUTES NAMESPACE 'TRAF_RSRVD_1'
;

************************************************
LobNum: 1

Data Storage
============

Location: /user/trafodion/lobs
DataFile: LOBP_00556402256385255654_0002

LOB Descriptor Handle
=====================

CREATE TABLE TRAFODION."_MD_"."LOBDescHandle__00556402256385255654_0002"
  (
    DESCPARTNKEY                     LARGEINT NO DEFAULT NOT NULL NOT DROPPABLE
  , NUMCHUNKS                        INT NO DEFAULT NOT NULL NOT DROPPABLE
  , LOBLEN                           LARGEINT NO DEFAULT NOT NULL NOT DROPPABLE
  )
  STORE BY (DESCPARTNKEY ASC)
  SALT USING 8 PARTITIONS
 ATTRIBUTES NAMESPACE 'TRAF_RSRVD_1'
;

LOB Descriptor Chunks
=====================

CREATE TABLE TRAFODION."_MD_"."LOBDescChunks__00556402256385255654_0002"
  (
    DESCPARTNKEY                     LARGEINT NO DEFAULT NOT NULL NOT DROPPABLE
  , DESCSYSKEY                       LARGEINT NO DEFAULT NOT NULL NOT DROPPABLE
  , CHUNKNUM                         INT NO DEFAULT NOT NULL NOT DROPPABLE
  , CHUNKLEN                         LARGEINT NO DEFAULT NOT NULL NOT DROPPABLE
  , DATAOFFSET                       LARGEINT DEFAULT NULL
  , STRINGPARAM                      VARCHAR(400) CHARACTER SET ISO88591
      COLLATE DEFAULT DEFAULT NULL
  , PRIMARY KEY (DESCPARTNKEY ASC, DESCSYSKEY ASC, CHUNKNUM ASC)
  )
  SALT USING 8 PARTITIONS
 ATTRIBUTES NAMESPACE 'TRAF_RSRVD_1'
;

--- SQL operation complete.
>>
>>showddl t1, lob details;

CREATE TABLE TRAFODION.SCH057.T1
  (
    A                                INT NO DEFAULT NOT NULL NOT DROPPABLE
  , B                                BLOB( 100 bytes) DEFAULT NULL
  , C                                CLOB( 100 bytes) CHARACTER SET ISO88591
      DEFAULT NULL
  , PRIMARY KEY (A ASC)
  )
 ATTRIBUTES ALIGNED FORMAT NAMESPACE 'TRAF_regr'
;

LOB Metadata
============

CREATE TABLE TRAFODION."_MD_".LOB_COLUMNS
  (
    TABLE_UID                        LARGEINT NO DEFAULT NOT NULL NOT DROPPABLE
  , LOBNUM                           INT NO DEFAULT NOT NULL NOT DROPPABLE
  , STORAGETYPE                      SMALLINT NO DEFAULT NOT NULL NOT DROPPABLE
  , LOCATION                         VARCHAR(4096) CHARACTER SET ISO88591
      COLLATE DEFAULT NO DEFAULT NOT NULL NOT DROPPABLE
  , COLUMN_NAME                      VARCHAR(256 BYTES) CHARACTER SET UTF8
      COLLATE DEFAULT NO DEFAULT NOT NULL NOT DROPPABLE
  , NUM_LOB_FILES                    INT NO DEFAULT NOT NULL NOT DROPPABLE
  , INLINED_DATA_MAXLEN              INT NO DEFAULT NOT NULL NOT DROPPABLE
  , HBASE_DATA_MAXLEN                LARGEINT NO DEFAULT NOT NULL NOT DROPPABLE
  , LOB_CHUNK_MAXLEN                 INT NO DEFAULT NOT NULL NOT DROPPABLE
  , FLAGS                            LARGEINT NO DEFAULT NOT NULL NOT DROPPABLE
 , CONSTRAINT TRAFODION."_MD_".LOB_COLUMNS_PK PRIMARY KEY (TABLE_UID ASC,
    LOBNUM ASC)
  )
 ATTRIBUTES ALIGNED FORMAT NAMESPACE 'TRAF_RSRVD_1'
;

LOB CHUNKS table
================

CREATE TABLE TRAFODION.SCH057.LOBCHUNKS__05984928657646011143
  (
    LOBUID                           LARGEINT NO DEFAULT NOT NULL NOT DROPPABLE
  , LOBSEQ                           LARGEINT NO DEFAULT NOT NULL NOT DROPPABLE
  , LOBNUM                           INT UNSIGNED NO DEFAULT NOT NULL NOT
      DROPPABLE
  , CHUNKNUM                         INT UNSIGNED NO DEFAULT NOT NULL NOT
      DROPPABLE
  , CHUNKLEN                         LARGEINT DEFAULT NULL
  , HDFS_OFFSET                      LARGEINT DEFAULT NULL
  , HDFS_OFFSET_2                    LARGEINT DEFAULT NULL
  , FLAGS                            LARGEINT DEFAULT NULL
  , STRINGPARAM                      VARCHAR(1000) CHARACTER SET ISO88591
      COLLATE DEFAULT DEFAULT NULL
  , DATA_IN_HBASE                    VARBINARY(1048576) DEFAULT NULL
  , PRIMARY KEY (LOBUID ASC, LOBSEQ ASC, LOBNUM ASC, CHUNKNUM ASC)
  )
  SALT USING 4 PARTITIONS
       ON (LOBUID)
 ATTRIBUTES NAMESPACE 'TRAF_regr'
;

--- SQL operation complete.
>>showddl procedure proc1;

CREATE PROCEDURE TRAFODION.SCH057.PROC1
  (
    IN ONORAFTERDATE CHAR(20) CHARACTER SET ISO88591
  , OUT NUM_ORDERS LARGEINT
  )
  EXTERNAL NAME 'TEST057.proc1 (java.lang.String,long[],java.sql.ResultSet[],java.sql.ResultSet[])'
  LIBRARY TRAFODION.SCH057.TEST057
  EXTERNAL SECURITY INVOKER
  LANGUAGE JAVA
  PARAMETER STYLE JAVA
  READS SQL DATA
  DYNAMIC RESULT SETS 2
  TRANSACTION REQUIRED
  ISOLATE
  ;

--- SQL operation complete.
>>showddl library test057;
CREATE LIBRARY TRAFODION.SCH057.TEST057 FILE 'TEST057.jar'
;

--- SQL operation complete.
>>showddl vt1;

CREATE VIEW TRAFODION.SCH057.VT1 AS
  SELECT TRAFODION.SCH057.T1.A, TRAFODION.SCH057.T1.B, TRAFODION.SCH057.T1.C
    FROM TRAFODION.SCH057.T1 ;

--- SQL operation complete.
>>
>>select * from t1;

A            B                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 C
-----------  ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------  ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

          1  LOBH00010002000105984928657646011143000000000000000000480598492865773036195800000000000000000003                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  LOBH00010002000205984928657646011143000000000000000000480598492865773092684200000000000000000004                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                

--- 1 row(s) selected.
>>log;
