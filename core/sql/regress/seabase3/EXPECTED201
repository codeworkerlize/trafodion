>>obey TEST201(setup);
>>drop table if exists t201t1;

--- SQL operation complete.
>>create table t201t1(a int, b int);

--- SQL operation complete.
>>
>>obey TEST201(test);
>>-- test drop and add column
>>begin work;

--- SQL operation complete.
>>drop table t201t1;

--- SQL operation complete.
>>sh sqlci -i TEST201\(altert201t1\) >> LOG201;
EsgynDB Advanced Conversational Interface 2.7.0
Copyright (c) 2015-2019 Esgyn Corporation
>>?section altert201t1
>>alter table t201t1 add column c int;

*** ERROR[30052] ROW LEVEL LOCK TIMEOUT ERROR

--- SQL operation failed with errors.
>>
>>exit;

End of MXCI Session

>>commit;

--- SQL operation complete.
>>
>>-- test alter and drop
>>obey TEST201(setup);
>>drop table if exists t201t1;

--- SQL operation complete.
>>create table t201t1(a int, b int);

--- SQL operation complete.
>>
>>begin work;

--- SQL operation complete.
>>alter table t201t1 add column c int;

--- SQL operation complete.
>>sh sqlci -i TEST201\(dropt201t1\) >> LOG201;
EsgynDB Advanced Conversational Interface 2.7.0
Copyright (c) 2015-2019 Esgyn Corporation
>>?section dropt201t1
>>drop table t201t1;

*** ERROR[30052] ROW LEVEL LOCK TIMEOUT ERROR

--- SQL operation failed with errors.
>>
>>exit;

End of MXCI Session

>>commit;

--- SQL operation complete.
>>
>>--test drop and create
>>obey TEST201(setup);
>>drop table if exists t201t1;

--- SQL operation complete.
>>create table t201t1(a int, b int);

--- SQL operation complete.
>>
>>begin work;

--- SQL operation complete.
>>drop table t201t1;

--- SQL operation complete.
>>sh sqlci -i TEST201\(createt201t1\) >> LOG201;
EsgynDB Advanced Conversational Interface 2.7.0
Copyright (c) 2015-2019 Esgyn Corporation
>>?section createt201t1
>>create table t201t1(a int, b int);

*** ERROR[1390] Object TRAFODION.SCH.T201T1 already exists in Trafodion.

--- SQL operation failed with errors.
>>
>>exit;

End of MXCI Session

>>commit;

--- SQL operation complete.
>>
>>--test create and drop
>>begin work;

--- SQL operation complete.
>>create table t201t1(a int);

--- SQL operation complete.
>>sh sqlci -i TEST201\(dropt201t1\) >> LOG201;
EsgynDB Advanced Conversational Interface 2.7.0
Copyright (c) 2015-2019 Esgyn Corporation
>>?section dropt201t1
>>drop table t201t1;

*** ERROR[1389] Object TRAFODION.SCH.T201T1 does not exist in Trafodion.

--- SQL operation failed with errors.
>>
>>exit;

End of MXCI Session

>>commit;

--- SQL operation complete.
>>
>>--test alter and create 
>>obey TEST201(setup);
>>drop table if exists t201t1;

--- SQL operation complete.
>>create table t201t1(a int, b int);

--- SQL operation complete.
>>
>>begin work;

--- SQL operation complete.
>>alter table t201t1 add column c int;

--- SQL operation complete.
>>sh sqlci -i TEST201\(createt201t1\) >> LOG201;
EsgynDB Advanced Conversational Interface 2.7.0
Copyright (c) 2015-2019 Esgyn Corporation
>>?section createt201t1
>>create table t201t1(a int, b int);

*** ERROR[1390] Object TRAFODION.SCH.T201T1 already exists in Trafodion.

--- SQL operation failed with errors.
>>
>>exit;

End of MXCI Session

>>commit;

--- SQL operation complete.
>>
>>--test create and alter
>>drop table t201t1;

--- SQL operation complete.
>>begin work;

--- SQL operation complete.
>>create table t201t1(a int);

--- SQL operation complete.
>>sh sqlci -i TEST201\(altert201t1\) >> LOG201;
EsgynDB Advanced Conversational Interface 2.7.0
Copyright (c) 2015-2019 Esgyn Corporation
>>?section altert201t1
>>alter table t201t1 add column c int;

*** ERROR[1127] The specified table TRAFODION.SCH.T201T1 does not exist, is inaccessible or is not a base table. Please verify that the correct table was specified.

--- SQL operation failed with errors.
>>
>>exit;

End of MXCI Session

>>commit;

--- SQL operation complete.
>>
>>-- test create and create 
>>drop table if exists t201t1;

--- SQL operation complete.
>>begin work;

--- SQL operation complete.
>>create table t201t1(a int);

--- SQL operation complete.
>>sh sqlci -i TEST201\(createt201t1\) >> LOG201;
EsgynDB Advanced Conversational Interface 2.7.0
Copyright (c) 2015-2019 Esgyn Corporation
>>?section createt201t1
>>create table t201t1(a int, b int);

*** ERROR[30052] ROW LEVEL LOCK TIMEOUT ERROR

*** ERROR[1029] Object TRAFODION.SCH.T201T1 could not be created.

--- SQL operation failed with errors.
>>
>>exit;

End of MXCI Session

>>commit;

--- SQL operation complete.
>>
>>-- test drop and drop
>>create table if not exists t201t1(a int);

--- SQL operation complete.
>>begin work;

--- SQL operation complete.
>>drop table t201t1;

--- SQL operation complete.
>>sh sqlci -i TEST201\(dropt201t1\) >> LOG201;
EsgynDB Advanced Conversational Interface 2.7.0
Copyright (c) 2015-2019 Esgyn Corporation
>>?section dropt201t1
>>drop table t201t1;

*** ERROR[30052] ROW LEVEL LOCK TIMEOUT ERROR

--- SQL operation failed with errors.
>>
>>exit;

End of MXCI Session

>>commit;

--- SQL operation complete.
>>
>>--teset alter and alter
>>create table if not exists t201t1(a int);

--- SQL operation complete.
>>begin work;

--- SQL operation complete.
>>alter table t201t1 add column c int;

--- SQL operation complete.
>>sh sqlci -i TEST201\(altert201t1\) >> LOG201;
EsgynDB Advanced Conversational Interface 2.7.0
Copyright (c) 2015-2019 Esgyn Corporation
>>?section altert201t1
>>alter table t201t1 add column c int;

*** ERROR[30052] ROW LEVEL LOCK TIMEOUT ERROR

--- SQL operation failed with errors.
>>
>>exit;

End of MXCI Session

>>commit;

--- SQL operation complete.
>>
>>-- test drop and select
>>obey TEST201(setup);
>>drop table if exists t201t1;

--- SQL operation complete.
>>create table t201t1(a int, b int);

--- SQL operation complete.
>>
>>begin work;

--- SQL operation complete.
>>drop table t201t1;

--- SQL operation complete.
>>sh sqlci -i TEST201\(selectt201t1\) >> LOG201;
EsgynDB Advanced Conversational Interface 2.7.0
Copyright (c) 2015-2019 Esgyn Corporation
>>?section selectt201t1
>>select * from t201t1;

--- 0 row(s) selected.
>>
>>exit;

End of MXCI Session

>>sh sqlci -i TEST201\(insertt201t1\) >> LOG201;
EsgynDB Advanced Conversational Interface 2.7.0
Copyright (c) 2015-2019 Esgyn Corporation
>>?section insertt201t1
>>insert into t201t1 values(1,1);

*** ERROR[30052] ROW LEVEL LOCK TIMEOUT ERROR

--- 0 row(s) inserted.
>>
>>exit;

End of MXCI Session

>>commit;

--- SQL operation complete.
>>
>>-- test select and drop
>>obey TEST201(setup);
>>drop table if exists t201t1;

--- SQL operation complete.
>>create table t201t1(a int, b int);

--- SQL operation complete.
>>
>>begin work;

--- SQL operation complete.
>>select * from t201t1;

--- 0 row(s) selected.
>>sh sqlci -i TEST201\(dropt201t1\) >> LOG201;
EsgynDB Advanced Conversational Interface 2.7.0
Copyright (c) 2015-2019 Esgyn Corporation
>>?section dropt201t1
>>drop table t201t1;

*** ERROR[30052] ROW LEVEL LOCK TIMEOUT ERROR

--- SQL operation failed with errors.
>>
>>exit;

End of MXCI Session

>>commit;

--- SQL operation complete.
>>
>>-- test alter and select
>>obey TEST201(setup);
>>drop table if exists t201t1;

--- SQL operation complete.
>>create table t201t1(a int, b int);

--- SQL operation complete.
>>
>>begin work;

--- SQL operation complete.
>>alter table t201t1 add column c int;

--- SQL operation complete.
>>sh sqlci -i TEST201\(selectt201t1\) >> LOG201;
EsgynDB Advanced Conversational Interface 2.7.0
Copyright (c) 2015-2019 Esgyn Corporation
>>?section selectt201t1
>>select * from t201t1;

--- 0 row(s) selected.
>>
>>exit;

End of MXCI Session

>>sh sqlci -i TEST201\(insertt201t1\) >> LOG201;
EsgynDB Advanced Conversational Interface 2.7.0
Copyright (c) 2015-2019 Esgyn Corporation
>>?section insertt201t1
>>insert into t201t1 values(1,1);

*** ERROR[30052] ROW LEVEL LOCK TIMEOUT ERROR

--- 0 row(s) inserted.
>>
>>exit;

End of MXCI Session

>>commit;

--- SQL operation complete.
>>
>>-- test select and alter
>>obey TEST201(setup);
>>drop table if exists t201t1;

--- SQL operation complete.
>>create table t201t1(a int, b int);

--- SQL operation complete.
>>
>>begin work;

--- SQL operation complete.
>>select * from t201t1;

--- 0 row(s) selected.
>>sh sqlci -i TEST201\(altert201t1\) >> LOG201;
EsgynDB Advanced Conversational Interface 2.7.0
Copyright (c) 2015-2019 Esgyn Corporation
>>?section altert201t1
>>alter table t201t1 add column c int;

*** ERROR[30052] ROW LEVEL LOCK TIMEOUT ERROR

--- SQL operation failed with errors.
>>
>>exit;

End of MXCI Session

>>commit;

--- SQL operation complete.
>>
>>-- test select and drop column
>>obey TEST201(setup);
>>drop table if exists t201t1;

--- SQL operation complete.
>>create table t201t1(a int, b int);

--- SQL operation complete.
>>
>>begin work;

--- SQL operation complete.
>>select * from t201t1;

--- 0 row(s) selected.
>>sh sqlci -i TEST201\(alter2t201t1\) >> LOG201;
EsgynDB Advanced Conversational Interface 2.7.0
Copyright (c) 2015-2019 Esgyn Corporation
>>?section alter2t201t1
>>alter table t201t1 drop column b;

*** ERROR[30052] ROW LEVEL LOCK TIMEOUT ERROR

--- SQL operation failed with errors.
>>
>>exit;

End of MXCI Session

>>commit;

--- SQL operation complete.
>>
>>-- test 1) drop table 2) rollback 3) drop table
>>obey TEST201(setup);
>>drop table if exists t201t1;

--- SQL operation complete.
>>create table t201t1(a int, b int);

--- SQL operation complete.
>>
>>begin work;

--- SQL operation complete.
>>drop table t201t1;

--- SQL operation complete.
>>-- release X table lock
>>rollback;

--- SQL operation complete.
>>begin work;

--- SQL operation complete.
>>drop table t201t1;

--- SQL operation complete.
>>commit;

--- SQL operation complete.
>>
>>-- test AddUniqueConstraint
>>obey TEST201(setup);
>>drop table if exists t201t1;

--- SQL operation complete.
>>create table t201t1(a int, b int);

--- SQL operation complete.
>>
>>begin work;

--- SQL operation complete.
>>alter table t201t1 add constraint alter3 unique(a);

--- SQL operation complete.
>>sh sqlci -i TEST201\(alter3t201t1\) >> LOG201;
EsgynDB Advanced Conversational Interface 2.7.0
Copyright (c) 2015-2019 Esgyn Corporation
>>?section alter3t201t1
>>alter table t201t1 add constraint alter3 unique(a);

*** ERROR[30052] ROW LEVEL LOCK TIMEOUT ERROR

--- SQL operation failed with errors.
>>
>>exit;

End of MXCI Session

>>commit;

--- SQL operation complete.
>>
>>-- test AlterColumnDatatype
>>obey TEST201(setup);
>>drop table if exists t201t1;

--- SQL operation complete.
>>create table t201t1(a int, b int);

--- SQL operation complete.
>>
>>alter table t201t1 add column c varchar(5);

--- SQL operation complete.
>>begin work;

--- SQL operation complete.
>>alter table t201t1 alter column c varchar(10);

--- SQL operation complete.
>>sh sqlci -i TEST201\(alter4t201t1\) >> LOG201;
EsgynDB Advanced Conversational Interface 2.7.0
Copyright (c) 2015-2019 Esgyn Corporation
>>?section alter4t201t1
>>alter table t201t1 alter column c varchar(10);

*** ERROR[30052] ROW LEVEL LOCK TIMEOUT ERROR

--- SQL operation failed with errors.
>>
>>exit;

End of MXCI Session

>>commit;

--- SQL operation complete.
>>
>>-- test AlterColumnRename
>>obey TEST201(setup);
>>drop table if exists t201t1;

--- SQL operation complete.
>>create table t201t1(a int, b int);

--- SQL operation complete.
>>
>>begin work;

--- SQL operation complete.
>>alter table t201t1 alter column a rename to c;

--- SQL operation complete.
>>sh sqlci -i TEST201\(alter5t201t1\) >> LOG201;
EsgynDB Advanced Conversational Interface 2.7.0
Copyright (c) 2015-2019 Esgyn Corporation
>>?section alter5t201t1
>>alter table t201t1 alter column a rename to c;

*** ERROR[30052] ROW LEVEL LOCK TIMEOUT ERROR

--- SQL operation failed with errors.
>>
>>exit;

End of MXCI Session

>>commit;

--- SQL operation complete.
>>
>>-- test add table check constraint
>>obey TEST201(setup);
>>drop table if exists t201t1;

--- SQL operation complete.
>>create table t201t1(a int, b int);

--- SQL operation complete.
>>
>>begin work;

--- SQL operation complete.
>>alter table t201t1 add constraint alter6 check (a>0);

--- SQL operation complete.
>>sh sqlci -i TEST201\(alter6t201t1\) >> LOG201;
EsgynDB Advanced Conversational Interface 2.7.0
Copyright (c) 2015-2019 Esgyn Corporation
>>?section alter6t201t1
>>alter table t201t1 add constraint alter6 check (a>0);

*** ERROR[30052] ROW LEVEL LOCK TIMEOUT ERROR

--- SQL operation failed with errors.
>>
>>exit;

End of MXCI Session

>>commit;

--- SQL operation complete.
>>
>>-- test drop table constraint
>>obey TEST201(setup);
>>drop table if exists t201t1;

--- SQL operation complete.
>>create table t201t1(a int, b int);

--- SQL operation complete.
>>
>>alter table t201t1 add constraint alter7 check (a>0);

--- SQL operation complete.
>>begin work;

--- SQL operation complete.
>>alter table t201t1 drop constraint alter7;

--- SQL operation complete.
>>sh sqlci -i TEST201\(alter7t201t1\) >> LOG201;
EsgynDB Advanced Conversational Interface 2.7.0
Copyright (c) 2015-2019 Esgyn Corporation
>>?section alter7t201t1
>>alter table t201t1 drop constraint alter7;

*** ERROR[30052] ROW LEVEL LOCK TIMEOUT ERROR

--- SQL operation failed with errors.
>>
>>exit;

End of MXCI Session

>>commit;

--- SQL operation complete.
>>
>>-- test truncate table
>>obey TEST201(setup);
>>drop table if exists t201t1;

--- SQL operation complete.
>>create table t201t1(a int, b int);

--- SQL operation complete.
>>
>>begin work;

--- SQL operation complete.
>>select * from t201t1;

--- 0 row(s) selected.
>>sh sqlci -i TEST201\(truncatet201t1\) >> LOG201;
EsgynDB Advanced Conversational Interface 2.7.0
Copyright (c) 2015-2019 Esgyn Corporation
>>?section truncatet201t1
>>truncate table t201t1;

*** ERROR[30052] ROW LEVEL LOCK TIMEOUT ERROR

--- SQL operation failed with errors.
>>
>>exit;

End of MXCI Session

>>commit;

--- SQL operation complete.
>>
>>-- test purgedata
>>obey TEST201(setup);
>>drop table if exists t201t1;

--- SQL operation complete.
>>create table t201t1(a int, b int);

--- SQL operation complete.
>>
>>begin work;

--- SQL operation complete.
>>select * from t201t1;

--- 0 row(s) selected.
>>sh sqlci -i TEST201\(purgedatat201t1\) >> LOG201;
EsgynDB Advanced Conversational Interface 2.7.0
Copyright (c) 2015-2019 Esgyn Corporation
>>?section purgedatat201t1
>>purgedata t201t1;

*** ERROR[30052] ROW LEVEL LOCK TIMEOUT ERROR

--- SQL operation failed with errors.
>>
>>exit;

End of MXCI Session

>>commit;

--- SQL operation complete.
>>
>>-- test drop index and select
>>obey TEST201(setup);
>>drop table if exists t201t1;

--- SQL operation complete.
>>create table t201t1(a int, b int);

--- SQL operation complete.
>>
>>create index t201t1_index on t201t1(a);

--- SQL operation complete.
>>set parserflags 1;

--- SQL operation complete.
>>bt;

--- SQL operation complete.
>>select * from table(index_table t201t1_index) for update;

--- 0 row(s) selected.
>>sh sqlci -i TEST201\(dropindext201t1\) >> LOG201;
EsgynDB Advanced Conversational Interface 2.7.0
Copyright (c) 2015-2019 Esgyn Corporation
>>?section dropindext201t1
>>drop index t201t1_index;

*** ERROR[30052] ROW LEVEL LOCK TIMEOUT ERROR

--- SQL operation failed with errors.
>>
>>exit;

End of MXCI Session

>>commit;

--- SQL operation complete.
>>
>>-- test drop view and drop view
>>obey TEST201(setup);
>>drop table if exists t201t1;

--- SQL operation complete.
>>create table t201t1(a int, b int);

--- SQL operation complete.
>>
>>create view t201t1_view as select * from t201t1;

--- SQL operation complete.
>>bt;

--- SQL operation complete.
>>drop view t201t1_view;

--- SQL operation complete.
>>sh sqlci -i TEST201\(dropviewt201t1\) >> LOG201;
EsgynDB Advanced Conversational Interface 2.7.0
Copyright (c) 2015-2019 Esgyn Corporation
>>?section dropviewt201t1
>>drop view t201t1_view;

*** WARNING[30052] ROW LEVEL LOCK TIMEOUT ERROR

*** WARNING[8839] Transaction was aborted.

*** ERROR[30052] ROW LEVEL LOCK TIMEOUT ERROR

--- SQL operation failed with errors.
>>
>>exit;

End of MXCI Session

>>commit;

--- SQL operation complete.
>>
>>-- test read uncommitted
>>obey TEST201(setup);
>>drop table if exists t201t1;

--- SQL operation complete.
>>create table t201t1(a int, b int);

--- SQL operation complete.
>>
>>insert into t201t1 values(1,1);

--- 1 row(s) inserted.
>>begin work;

--- SQL operation complete.
>>alter table t201t1 add column c varchar(10);

--- SQL operation complete.
>>sh sqlci -i TEST201\(readUncommitted1\) >> LOG201;
EsgynDB Advanced Conversational Interface 2.7.0
Copyright (c) 2015-2019 Esgyn Corporation
>>?section readUncommitted1
>>set transaction isolation level read uncommitted;

--- SQL operation complete.
>>begin work;

--- SQL operation complete.
>>select * from t201t1;

A            B          
-----------  -----------

          1            1

--- 1 row(s) selected.
>>commit;

--- SQL operation complete.
>>
>>-- ?section readUncommitted2
>>-- for read uncommitted access is useHbaseXn
>>-- select * from t201t1 for read uncommitted access;
>>
>>exit;

End of MXCI Session

>>rollback;

--- SQL operation complete.
>>
>>-- alter table t201t1 add column c varchar(10);
>>-- sh sqlci -i TEST201\(readUncommitted2\) >> LOG201;
>>-- rollback;
>>
>>-- test repeatable read
>>drop table if exists t201t1;

--- SQL operation complete.
>>create table t201t1(a int primary key, b int);

--- SQL operation complete.
>>insert into t201t1 values(1,1);

--- 1 row(s) inserted.
>>set transaction isolation level repeatable read;

--- SQL operation complete.
>>begin work;

--- SQL operation complete.
>>select * from t201t1 where a = 1;

A            B          
-----------  -----------

          1            1

--- 1 row(s) selected.
>>sh sqlci -i TEST201\(repeatableread_1\) >> LOG201;
EsgynDB Advanced Conversational Interface 2.7.0
Copyright (c) 2015-2019 Esgyn Corporation
>>?section repeatableread_1
>>set transaction isolation level repeatable read;

--- SQL operation complete.
>>begin work;

--- SQL operation complete.
>>select * from t201t1 where a = 1 for update;

A            B          
-----------  -----------

          1            1

--- 1 row(s) selected.
>>commit;

--- SQL operation complete.
>>
>>exit;

End of MXCI Session

>>sh sqlci -i TEST201\(repeatableread_2\) >> LOG201;
EsgynDB Advanced Conversational Interface 2.7.0
Copyright (c) 2015-2019 Esgyn Corporation
>>?section repeatableread_2
>>set transaction isolation level repeatable read;

--- SQL operation complete.
>>begin work;

--- SQL operation complete.
>>delete from t201t1 where a = 1;

*** ERROR[30052] ROW LEVEL LOCK TIMEOUT ERROR

*** ERROR[8839] Transaction was aborted.

--- 0 row(s) deleted.
>>commit;

--- SQL operation complete.
>>
>>
>>exit;

End of MXCI Session

>>commit;

--- SQL operation complete.
>>set transaction isolation level read committed;

--- SQL operation complete.
>>
>>-- test stmt level isolation level
>>-- read uncommitted access
>>drop table if exists t201t1;

--- SQL operation complete.
>>create table t201t1(a int primary key, b int);

--- SQL operation complete.
>>insert into t201t1 values(1,1);

--- 1 row(s) inserted.
>>begin work;

--- SQL operation complete.
>>select * from t201t1 where a = 1 for read uncommitted access;

A            B          
-----------  -----------

          1            1

--- 1 row(s) selected.
>>sh sqlci -i TEST201\(truncatet201t1\) >> LOG201;
EsgynDB Advanced Conversational Interface 2.7.0
Copyright (c) 2015-2019 Esgyn Corporation
>>?section truncatet201t1
>>truncate table t201t1;

--- SQL operation complete.
>>
>>exit;

End of MXCI Session

>>rollback;

--- SQL operation complete.
>>
>>-- read committed access
>>insert into t201t1 values(1,1);

--- 1 row(s) inserted.
>>begin work;

--- SQL operation complete.
>>select * from t201t1 where a = 1 for read committed access;

A            B          
-----------  -----------

          1            1

--- 1 row(s) selected.
>>sh sqlci -i TEST201\(truncatet201t1\) >> LOG201;
EsgynDB Advanced Conversational Interface 2.7.0
Copyright (c) 2015-2019 Esgyn Corporation
>>?section truncatet201t1
>>truncate table t201t1;

*** ERROR[30052] ROW LEVEL LOCK TIMEOUT ERROR

--- SQL operation failed with errors.
>>
>>exit;

End of MXCI Session

>>rollback;

--- SQL operation complete.
>>
>>-- repeatable read access
>>begin work;

--- SQL operation complete.
>>select * from t201t1 where a = 1 for repeatable read access;

A            B          
-----------  -----------

          1            1

--- 1 row(s) selected.
>>sh sqlci -i TEST201\(updatet201t1\) >> LOG201;
EsgynDB Advanced Conversational Interface 2.7.0
Copyright (c) 2015-2019 Esgyn Corporation
>>?section updatet201t1
>>update t201t1 set a = 2, b = 2 where a = 1;

*** ERROR[30052] ROW LEVEL LOCK TIMEOUT ERROR

--- 0 row(s) updated.
>>
>>exit;

End of MXCI Session

>>rollback;

--- SQL operation complete.
>>
>>-- serializable access
>>select * from t201t1 for serializable access;

*** ERROR[1719] Access Type 'SERIALIZABLE' is not supported.

*** ERROR[8822] The statement was not prepared.

>>
>>-- skip conflict read access
>>select * from t201t1 for skip conflict access;

A            B          
-----------  -----------

          1            1

--- 1 row(s) selected.
>>
>>-- test unique constraint
>>drop table if exists t201t1;

--- SQL operation complete.
>>create table t201t1(a int not null unique, b int);

--- SQL operation complete.
>>bt;

--- SQL operation complete.
>>insert into t201t1 values(1,1);

--- 1 row(s) inserted.
>>sh sqlci -i TEST201\(insertt201t1\) >> LOG201;
EsgynDB Advanced Conversational Interface 2.7.0
Copyright (c) 2015-2019 Esgyn Corporation
>>?section insertt201t1
>>insert into t201t1 values(1,1);

*** ERROR[30052] ROW LEVEL LOCK TIMEOUT ERROR

--- 0 row(s) inserted.
>>
>>exit;

End of MXCI Session

>>commit;

--- SQL operation complete.
>>
>>bt;

--- SQL operation complete.
>>insert into t201t1 values(2,2);

--- 1 row(s) inserted.
>>sh sqlci -i TEST201\(updatet201t1\) >> LOG201;
EsgynDB Advanced Conversational Interface 2.7.0
Copyright (c) 2015-2019 Esgyn Corporation
>>?section updatet201t1
>>update t201t1 set a = 2, b = 2 where a = 1;

*** ERROR[30052] ROW LEVEL LOCK TIMEOUT ERROR

--- 0 row(s) updated.
>>
>>exit;

End of MXCI Session

>>commit;

--- SQL operation complete.
>>
>>--test upsert
>>drop table t201t1;

--- SQL operation complete.
>>create table t201t1(a int not null primary key, b int);

--- SQL operation complete.
>>bt;

--- SQL operation complete.
>>upsert into t201t1 values(1,1);

--- 1 row(s) inserted.
>>sh sqlci -i TEST201\(upsertt201t1\) >> LOG201;
EsgynDB Advanced Conversational Interface 2.7.0
Copyright (c) 2015-2019 Esgyn Corporation
>>?section upsertt201t1
>>upsert into t201t1 values(1,1);

*** ERROR[30052] ROW LEVEL LOCK TIMEOUT ERROR

--- 0 row(s) inserted.
>>
>>exit;

End of MXCI Session

>>commit;

--- SQL operation complete.
>>
>>--test update using upsert
>>drop table t201t1;

--- SQL operation complete.
>>create table t201t1(a int not null primary key, b int);

--- SQL operation complete.
>>insert into t201t1 values(1,1);

--- 1 row(s) inserted.
>>bt;

--- SQL operation complete.
>>update using upsert t201t1 set b = 2 where a = 1;

--- 1 row(s) updated.
>>sh sqlci -i TEST201\(updateUsingUpsertt201t1\) >> LOG201;
EsgynDB Advanced Conversational Interface 2.7.0
Copyright (c) 2015-2019 Esgyn Corporation
>>?section updateUsingUpsertt201t1
>>update using upsert t201t1 set b = 2 where a = 1;

*** ERROR[30052] ROW LEVEL LOCK TIMEOUT ERROR

--- 0 row(s) updated.
>>
>>exit;

End of MXCI Session

>>commit;

--- SQL operation complete.
>>
>>--test purgedata partition table
>>create table t201t2 (c1 int, "X.Y" int unique);

--- SQL operation complete.
>>insert into t201t2 values (1,1),(2,2),(3,3),(105,105);

--- 4 row(s) inserted.
>>create table if not exists t201t3 (row_id int not null, C1 int not null default 1, C2 int not null unique no default, "YEAR" int not null, "A-b" int not null not droppable constraint "AVG" check ("A-b" > 0), "C.d" int not null not droppable, "E.F" int not null references t201t2 ("X.Y"), constraint "C-o-N-s-T" unique(C1, C2, "YEAR", "A-b", "C.d", "E.F"), constraint "c.O.n.S.t" primary key (row_id, C1, C2, "YEAR", "A-b" asc, "C.d" desc, "E.F"), constraint const4 check ("E.F" > 0), foreign key ("C.d") references t201t2 ("X.Y"))
+>store by (row_id, C1, C2, "YEAR", "A-b", "C.d", "E.F")
+>attributes synchronous replication
+>salt using 10 partitions in 5 regions on (row_id, C1, C2, "YEAR", "A-b", "C.d", "E.F");

--- SQL operation complete.
>>create table t201t4 like t201t3 with constraints with partitions;

--- SQL operation complete.
>>purgedata t201t4;

--- SQL operation complete.
>>delete from t201t4;

--- 0 row(s) deleted.
>>select * from t201t4 order by 1;

--- 0 row(s) selected.
>>drop table t201t4 cascade;

--- SQL operation complete.
>>drop table t201t3 cascade;

--- SQL operation complete.
>>drop table t201t2 cascade;

--- SQL operation complete.
>>
>>log;
